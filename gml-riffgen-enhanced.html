<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>gml-riffgen - Enhanced</title>
    <!-- Original styles/scripts would go here -->
    
    <!-- GML Improvements -->
    <script src="gml-shared-memory.js"></script>
    <script src="batch-operations-universal.js"></script>
    <script src="ui-improvements-universal.js"></script>
    
    <style>
        .gml-enhanced-badge {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="gml-enhanced-badge">Enhanced âœ“</div>
    
    <h1>gml-riffgen</h1>
    <p>Press SPACE to generate, R to regenerate</p>
    
    <div id="controls">
        <!-- App controls here -->
        <button onclick="generateMusic()">Generate</button>
    </div>
    
    <script>
        // Initialize improvements
        if (typeof initBatchOperations !== 'undefined') {
            initBatchOperations(() => ({ data: 'test', timestamp: Date.now() }));
        }
        
        // Initialize memory
        if (typeof GMLMemory !== 'undefined') {
            const memory = new GMLMemory('gml-riffgen');
            console.log('Cross-app memory initialized');
        }
    </script>

<!-- GML Template System -->
<script src="https://raw.githubusercontent.com/mikeb55/-gml-enhancement-suite/main/templates/TemplateSystem.js"></script>
<script>
window.addEventListener("DOMContentLoaded", async () => {
    try {
        window.templateSystem = new TemplateSystem();
        await window.templateSystem.init();
        let c = document.getElementById("controls") || document.querySelector(".controls") || document.body;
        window.templateSystem.createDropdown(c.id || "controls", (g,t) => console.log("Template loaded:", g));
    } catch(e) { console.log("Template System load error:", e); }
});
</script>
<script src="rapid_composer_memory.js"></script>
</body>
</html>
